## Đây là Docs tự Research:

- ❓ Đây là các câu hỏi trong video:

- Làm sao để `getQueriesData` nó lấy dữ liệu mới nhất nhỉ, thường nó chỉ lấy lần đầu `fetchapi` ?

  - 👉 Trong React Query, khi bạn gọi phương thức `getQueriesData` để lấy dữ liệu từ cache, nó sẽ trả về dữ liệu mới nhất từ cache nếu có sẵn. Tuy nhiên, nếu dữ liệu chưa có trong cache hoặc nếu cache đã hết hạn (stale), React Query sẽ tự động thực hiện một cuộc gọi mạng để lấy dữ liệu mới nhất từ nguồn dữ liệu (API chẳng hạn).

  - Khi bạn thực hiện một query lần đầu tiên bằng cách sử dụng hook `useQuery`, React Query sẽ gửi một yêu cầu mạng để lấy dữ liệu từ nguồn dữ liệu và lưu trữ kết quả trong cache. Khi bạn gọi `getQueriesData`, nếu dữ liệu trong cache vẫn còn hợp lệ (chưa hết hạn), React Query sẽ trả về dữ liệu đó mà không gửi yêu cầu mạng. Tuy nhiên, nếu dữ liệu đã hết hạn, React Query sẽ tự động gọi API để lấy dữ liệu mới nhất và cập nhật cache trước khi trả về kết quả cho `getQueriesData`.

  - Vì vậy, khi sử dụng `getQueriesData`, bạn có thể yên tâm rằng dữ liệu trả về sẽ là phiên bản mới nhất từ nguồn dữ liệu, ngay cả khi cache đã hết hạn. React Query sẽ tự động quản lý quá trình cập nhật dữ liệu và đảm bảo bạn nhận được dữ liệu mới nhất khi cần thiết.

---

- ❓ Chưa hiểu cách thằng react query này có thể thay thế cho redux chỗ nào? Thằng này dựa vào key thì quản lý key kiểu gì trong project cho khỏi loạn đây ?

  - 👉 Redux cũng dựa vào key để phân biệt `action` mà, Vấn đề redux là nó rườm rà (ý kiến này ở trong bài học)

  - 👉 Tự Search: 👈

  - React Query không thay thế Redux hoàn toàn, nhưng nó cung cấp một giải pháp hiệu quả cho việc quản lý trạng thái ứng dụng và tương tác với nguồn dữ liệu.

  - Redux là một thư viện quản lý trạng thái toàn cục (global), thường được sử dụng để lưu trữ các trạng thái quan trọng và chia sẻ chúng giữa các thành phần trong ứng dụng. Redux hữu ích khi bạn cần quản lý trạng thái phức tạp và có nhu cầu sử dụng các `middleware` hoặc `side effects`.

  - Trong khi đó, React Query tập trung vào quản lý dữ liệu liên quan đến truy vấn và xử lý các tác vụ mạng. Nó giúp bạn thực hiện các truy vấn dữ liệu, quản lý cache và tự động làm mới dữ liệu theo thời gian thực. React Query tạo ra một lớp trừu tượng để xử lý các hoạt động liên quan đến dữ liệu, giúp giảm bớt sự phức tạp của việc quản lý trạng thái và tương tác với dữ liệu từ nguồn.

  - React Query có thể được sử dụng kết hợp với Redux trong một ứng dụng. Bạn có thể sử dụng Redux để quản lý các trạng thái toàn cục và React Query để quản lý các truy vấn và cache dữ liệu. Điều này giúp bạn tận dụng được lợi ích của cả hai thư viện và tuỳ chỉnh theo nhu cầu cụ thể của dự án.

  - Về việc quản lý key trong React Query, bạn có thể sử dụng bất kỳ loại key nào phù hợp với dự án của mình. Key thường được định nghĩa dưới dạng một mảng (`array`) hoặc một chuỗi (`string`) đại diện cho truy vấn cụ thể. Bạn có thể sử dụng các giá trị duy nhất như `ID` người dùng, tên truy vấn, hoặc bất kỳ giá trị nào mà bạn cho là phù hợp để định danh truy vấn. Điều này giúp React Query xác định và quản lý các truy vấn riêng biệt một cách chính xác.

---

- ## ❓❓❓ Các câu hỏi thắc mắc (tự research):

## Tổng kết lại chương React Query ?

- React Query là một thư viện quản lý trạng thái và cache dữ liệu trong ứng dụng React. Nó cung cấp các khái niệm và API cho phép tương tác dễ dàng với dữ liệu từ các nguồn khác nhau như API, localStorage, hay bất kỳ nguồn dữ liệu nào khác.

- Dưới đây là những khái niệm chính và tính năng quan trọng của React Query:

1. `Query`: Một query đại diện cho một truy vấn dữ liệu từ một nguồn nhất định. React Query cung cấp hook `useQuery` để thực hiện các truy vấn này.

2. `Mutations`: Mutations đại diện cho các hoạt động thay đổi dữ liệu như tạo, cập nhật hoặc xóa. React Query cung cấp hook `useMutation` để thực hiện các mutations.

3. `Query Invalidation`: React Query hỗ trợ việc làm mới (refresh) dữ liệu thông qua phương thức `invalidateQueries`, cho phép chúng ta xóa cache của một hoặc nhiều queries.

4. `Automatic Caching`: React Query tự động lưu trữ dữ liệu truy vấn và quản lý việc cập nhật dữ liệu khi có sự thay đổi. Nó sử dụng cơ chế cache thông minh để tận dụng lại dữ liệu đã được truy vấn trước đó mà không cần gửi yêu cầu mạng.

5. `Prefetching`: React Query cung cấp tính năng prefetching, cho phép chúng ta tải trước dữ liệu trong background trước khi nó được yêu cầu, tối ưu hóa trải nghiệm người dùng.

6. `Optimistic Updates`: Tính năng optimistic updates cho phép chúng ta cập nhật giao diện ngay lập tức mà không cần chờ đợi phản hồi từ server khi thực hiện mutations.

- React Query giúp tăng hiệu suất ứng dụng, giảm số lần gọi mạng không cần thiết, cung cấp khả năng xử lý lỗi và cung cấp một cách tiếp cận dễ dùng và linh hoạt trong quản lý dữ liệu.

---

## Những kiến thức nhận được khi học xong khoá React Query ?

---

## Sau khi học xong react query thì nên học tiếp cái gì ?

---

## Điểm mạnh và điểm yếu của React Query ?

---

## Cho các ví dụ về React Query cơ bản ?

---

## Cho các ví dụ về React Query nâng cao ?

---

## Cho các ví dụ về React Query trong thực tế ?

---

## React query có thay thế redux không ?

---

## Trong các dự án thì công nghệ React Query có được sử dụng nhiều không ?

---

## Đây là Docs của Được Dev:

Cuối cùng thì chúng ta cũng đã đi đến video cuối cùng trong series này, trong video này thì mình sẽ hướng dẫn các bạn những kiến thức cuối cùng trong React Query. Yay 😁, hy vọng qua series này các bạn đã học được nhiều điều thú vị.

💓Kiến thức các bạn sẽ được học trong video này:

🎉 Hiểu rõ hơn cách hoạt động của fetching với staleTime
🎉 Tạo spinner loading global dựa trên query và mutation
🎉 Biết được cách dùng AbortController
🎉 Cancel Request trong React Query

🕰️Nội dung chính

```bash
00:00 - Ôn tập lại staleTime
07:46 - Fetching Indicators
14:06 - Query Cancellation
```
